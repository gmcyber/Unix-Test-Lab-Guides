<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8.dev">
<title>Test Lab Guide : Fedora Base Lab Configuration</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Test Lab Guide : Fedora Base Lab Configuration</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#trueabstract">Abstract</a></li>
<li><a href="#trueintroduction">Introduction</a></li>
<li><a href="#truedisclaimer">Disclaimer</a></li>
<li><a href="#trueoverview-of-this-test-lab-guide">Overview of this Test Lab Guide</a>
<ul class="sectlevel2">
<li><a href="#truenetwork-design">Network Design</a></li>
<li><a href="#truehardware-and-software-requirements">Hardware and Software Requirements</a></li>
<li><a href="#trueusing-sudo">Using “Sudo”</a></li>
</ul>
</li>
<li><a href="#trueconfiguring-the-environment">Configuring the Environment</a>
<ul class="sectlevel2">
<li><a href="#truestep-one-configure-fw1"><strong>Step One</strong> - Configure FW1</a></li>
<li><a href="#trueinstalling-the-operating-system">Installing the Operating System</a></li>
<li><a href="#trueconfigure-tcpip-properties">Configure TCP/IP Properties</a></li>
<li><a href="#trueconfigure-routing-rules">Configure Routing rules</a></li>
<li><a href="#truestep-two-configure-client1"><strong>Step Two</strong> - Configure CLIENT1</a></li>
<li><a href="#trueinstall-operating-system">Install Operating System</a></li>
<li><a href="#trueconfigure-tcpip-properties-test-configuration">Configure TCP/IP properties &amp; Test Configuration</a></li>
<li><a href="#truestep-three-configure-dc1"><strong>Step Three</strong> - Configure DC1</a></li>
<li><a href="#trueinstall-the-operating-system">Install the Operating System</a></li>
<li><a href="#trueconfigure-tcpip">Configure TCP/IP</a></li>
<li><a href="#trueinstallconfigure-dns">Install/Configure DNS</a></li>
<li><a href="#truere-configure-tcpip">Re-configure TCP/IP</a></li>
<li><a href="#trueinstall-and-configure-dhcp">Install and Configure DHCP</a></li>
<li><a href="#trueconfigure-dhcp-and-dns-settings-on-client1">Configure DHCP and DNS settings on Client1</a></li>
<li><a href="#truesnapshot-the-configuration">Snapshot the Configuration</a></li>
<li><a href="#truestep-four-configure-app1"><strong>Step Four</strong> - Configure APP1</a></li>
<li><a href="#trueinstall-the-operating-system-2">Install the Operating System</a></li>
<li><a href="#trueconfigure-tcpip-properties-2">Configure TCP/IP Properties</a></li>
<li><a href="#trueconfigure-the-web-server">Configure the web server</a></li>
<li><a href="#trueconfigure-the-samba-share">Configure the samba share</a></li>
<li><a href="#truetest-web-server-access">Test web server access</a></li>
<li><a href="#truetest-samba-share-access">Test samba share access</a></li>
<li><a href="#truesnapshot-the-configuration-2">Snapshot the Configuration</a></li>
</ul>
</li>
<li><a href="#trueadditional-resources">Additional Resources</a>
<ul class="sectlevel2">
<li><a href="#truehow-to-give-a-user-sudo-privileges">How to give a user sudo privileges</a></li>
<li><a href="#truefinal-client-configuration">Final Client Configuration</a></li>
</ul>
</li>
<li><a href="#truecontributors">Contributors</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Michael Pare &lt;<a href="mailto:michael.pare@mymail.champlain.edu">michael.pare@mymail.champlain.edu</a>&gt;
Version 0.2, 2020-04-12</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueabstract"><a class="anchor" href="#trueabstract"></a>Abstract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This Test Lab Guide (TLG) will provide the user with step-by-step instructions on how to configure a basic network configuration using Fedora servers and a Fedora client. The resulting test lab environment will provide a stable base for building other test labs. It is recommended that users preserve the start of their test machines once this walk-through has been successfully completed. In a physical environment the hard drive of the machine can be imaged. In a virtual environment, the “snapshot” or equivalent feature can be used to preserve the current state of the operating system. Preserving the working conditions of the basic test lab will allow the user to experiment without fear of having to completely rebuild their environment. The ultimate goal of the TLG is to familiarize the user with the Fedora Operating system and how to deploy common network services based on that operating system, and ultimately enable the user to conduct their own experiments in a Fedora based environment.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueintroduction"><a class="anchor" href="#trueintroduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The purpose of the Test Lab Guides (TLGs) is providing users with practical guidelines for deploying current operating systems in a way that results in a functional configuration. Using a TLG will instruct the user in which servers to create, how to configure the operating systems and services, and how to install and configure additional software. A TLG experience enables the user to experience the entire set-up process from start to finish.</p>
</div>
<div class="paragraph">
<p>This TLG is written with the goals of reusability and extensibility in mind. The purpose of this particular TLG is to enable the creation of a basic network utilizing Fedora as the central operating system. Once this network is complete several other TLGs can be built on top of this base configuration.</p>
</div>
<div class="paragraph">
<p>Once this lab is completed, it would be wise to save the initial configuration. How this is best done will depend on how the test environment was originally deployed. A physical environment can be preserved by imaging the drives of each machine to be stored in a separate location and retrieved when needed. In a network deployed virtually, a snapshot can be taken of each machine. This will preserve the current settings and configurations. Preserving the lab in a functional state is important, because it allows for a functional configuration to be restored without completely repeating the base lab configuration steps. This is helpful for correcting after a mistake or generating a test environment for a new product.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Note: If you are completing these TLG’s in a virtual environment using VMWare and have access to an electronic copy of this document, and you have VMWare Tools installed on the Virtual Machine, utilize the ability to copy and paste text from the host machine to the VM.  Copying and pasting will help to reduce typos and command errors.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Highlight and right-click a command from this document</p>
</li>
<li>
<p>Click Copy</p>
</li>
<li>
<p>Right-click in the virtual machine where you would like to copy the text to and click Paste</p>
</li>
<li>
<p>If you are working inside a terminal, you may only need to right click in order to copy the command over</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truedisclaimer"><a class="anchor" href="#truedisclaimer"></a>Disclaimer</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This website contains work created for informational purposes.
Information may be out of date, or changed or updated without notice. By
using this website, you recognize and agree that all information is provided
“AS IS” without warranty of any kind, either express or implied, including,
but not limited to, the implied warranties of merchantability, fitness for a
particular purpose, or non-infringement.</p>
</div>
<div class="paragraph">
<p>The entire risk arising out of the use of these guides remains with you. IN
NO EVENT SHALL CHAMPLAIN COLLEGE, ITS STUDENTS, FACULTY,
OR ANYONE ELSE INVOLVED IN THE CREATION, PRODUCTION,
OR DELIVERY OF THE GUIDES BE LIABLE TO ANY PERSON FOR
ANY DIRECT, INDIRECT, SPECIAL, OR OTHER CONSEQUENTIAL
DAMAGES FOR ANY USE OF THE MATERIAL ON THIS WEBSITE. This
includes, without limitation, damages for lost profits, business interruption, loss of data or business information, damage to computer equipment or networks, or other loss arising out of the use of any information in the guides</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueoverview-of-this-test-lab-guide"><a class="anchor" href="#trueoverview-of-this-test-lab-guide"></a>Overview of this Test Lab Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document contains instructions for settings up the Fedora base configuration test lab by deploying two servers running Fedora, one client running Fedora and one firewall built on Fedora. Once completed, the lab will simulate the functioning of a private intranet.</p>
</div>
<div class="paragraph">
<p><strong>Important</strong>: The instructions provided in this document are for educational purposes. They do not represent best practices nor are they recommendations for a production network. These configurations should not be put into place on a production network. This network should be deployed on a separate network specific to testing (physical or virtual).</p>
</div>
<div class="sect2">
<h3 id="truenetwork-design"><a class="anchor" href="#truenetwork-design"></a>Network Design</h3>
<div class="paragraph">
<p>Network Diagram:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="networkdiagram.jpg" alt="Network Diagram for Fedora Environment">
</div>
</div>
<div class="paragraph">
<p>The Fedora Base Configuration test lab consists of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One server running Fedora Server 27 named FW1</p>
<div class="ulist">
<ul>
<li>
<p>IP Address: 192.168.240.1</p>
</li>
<li>
<p>Gateway: N/A</p>
</li>
<li>
<p>DNS Server: 192.168.240.5</p>
</li>
<li>
<p>Hostname: firewall.business.com</p>
</li>
<li>
<p>Two NICs configured to handle traffic between the intranet and the external Internet connection</p>
</li>
</ul>
</div>
</li>
<li>
<p>One server running Fedora Server 27 named DC1</p>
<div class="ulist">
<ul>
<li>
<p>IP Address: 192.168.240.5</p>
</li>
<li>
<p>Gateway: 192.168.240.1</p>
</li>
<li>
<p>DNS Server: 192.168.240.5 (localhost)</p>
</li>
<li>
<p>Hostname: dc1.business.com</p>
</li>
<li>
<p>Configured as the intranet Domain Name System (DNS), and Dynamic Host Configuration Protocol (DHCP) server</p>
</li>
</ul>
</div>
</li>
<li>
<p>One server running Fedora Server 27 named APP1</p>
<div class="ulist">
<ul>
<li>
<p>IP Address: 192.168.240.10</p>
</li>
<li>
<p>Gateway: 192.168.240.1</p>
</li>
<li>
<p>DNS Server: 192.168.240.5</p>
</li>
<li>
<p>Hostname: app1.business.com</p>
</li>
<li>
<p>Configured on the intranet as a web and application server</p>
</li>
</ul>
</div>
</li>
<li>
<p>One client running Fedora Workstation 27 named CLIENT1</p>
<div class="ulist">
<ul>
<li>
<p>IP Address: 192.168.240.15</p>
</li>
<li>
<p>Gateway: 192.168.240.1</p>
</li>
<li>
<p>DNS Server: 192.168.240.5</p>
</li>
<li>
<p>Hostname: client1.business.com</p>
</li>
<li>
<p>Will have ability to switch between the intranet and Internet subnets</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Fedora Base Configuration TLG is comprised of one subnet:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An intranet, known as the Internal subnet (192.168.240.0/24 in this example)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This document consists of four major parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Step 1: Configure FW1</p>
</li>
<li>
<p>Step 2: Configure DC1</p>
</li>
<li>
<p>Step 3: Configure APP1</p>
</li>
<li>
<p>Step 4: Configure CLIENT1</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="truehardware-and-software-requirements"><a class="anchor" href="#truehardware-and-software-requirements"></a>Hardware and Software Requirements</h3>
<div class="paragraph">
<p>The following are the minimum required components for deploying the test lab:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An installer disc or .iso file for Fedora Server 27, 64 bit</p>
</li>
<li>
<p>An installer disc or .iso file for Fedora Workstation 27, 64 bit</p>
</li>
<li>
<p>One machine that will meet the minimum install requirements for Fedora Server with 2 NICs</p>
</li>
<li>
<p>Two machines that will meet the minimum install requirements for Fedora Server</p>
</li>
<li>
<p>One machine that will meet the minimum install requirements for Fedora Workstation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the environment will be deployed in a virtualized environment, the virtual solution must support Fedora virtual machines (or  virtual linux machines in general). The server hardware must support the amount for RAM required to run the virtual operating systems included in the base configuration test lab with space for expansion as required by the additional TLGs.</p>
</div>
</div>
<div class="sect2">
<h3 id="trueusing-sudo"><a class="anchor" href="#trueusing-sudo"></a>Using “Sudo”</h3>
<div class="paragraph">
<p>When running many commands throughout these TLGs you may be required to use ‘sudo’ depending on the level of privilege the current user has.  The ‘sudo’ command allows the command following it to be run at superuser privileges.  It is important to note that the user must be in the ‘sudoers’ file in order to successfully use this command.  If you make the account an administrator while installing, it will be added to the ‘sudoers’ file automatically.  Once a command is preceded by ‘sudo’ the user will be prompted for the password for the account and then the command can be run at superuser privilege.  For details on how to give a user ‘sudo’ privilege see the Appendix (How to Give a User to Sudo Privileges).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueconfiguring-the-environment"><a class="anchor" href="#trueconfiguring-the-environment"></a>Configuring the Environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This test network consists of four machines:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>FW1</p>
</li>
<li>
<p>DC1</p>
</li>
<li>
<p>APP1</p>
</li>
<li>
<p>CLIENT1</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You must be logged on as a user who can execute <code>sudo</code> commands to complete this TLG. The steps to configure each machine are below.</p>
</div>
<div class="sect2">
<h3 id="truestep-one-configure-fw1"><a class="anchor" href="#truestep-one-configure-fw1"></a><strong>Step One</strong> - Configure FW1</h3>
<div class="paragraph">
<p>The FW1 machine will act as a firewall/router for the network. Configuring FW1 will consist of:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Installing the operating system - Fedora Server 27.</p>
</li>
<li>
<p>Configure TCP/IP properties.</p>
</li>
<li>
<p>Configure NAT rules.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueinstalling-the-operating-system"><a class="anchor" href="#trueinstalling-the-operating-system"></a>Installing the Operating System</h3>
<div class="paragraph">
<p>The first step is to install Fedora Server 27  on the machine that will be used as the router.  The hardware for this machine must include two NICs if running the operating system in a physical environment. If utilizing a virtual environment, please ensure that the virtual machine for this system includes two network cards in its virtual hardware. Instructions on how to do this are below.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the installation using the installer disk or the .iso file and follow the installation prompts.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>When using VMware to install the operating system, many of the option will be prefilled.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>VMware will prompt for a username and password - it will create a non-sudo user and assign the OS root password.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Before clicking the finish button on the final window, click “Customize Hardware…”</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click “Add…” at the bottom.</p>
</li>
<li>
<p>Click “Network Adapter” and then finish.</p>
</li>
<li>
<p>On “Network Adapter 2” click Custom.</p>
</li>
<li>
<p>Click close, and finish the installation.</p>
</li>
</ol>
</div>
</li>
<li>
<p>During the installation process, create a user and give him administration rights. This is time sensitive, so make sure not to walk away from the OS while installing.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click on “User Creation”.</p>
</li>
<li>
<p>Click on the box “Make this user administrator”.</p>
</li>
<li>
<p>Assign credentials.</p>
</li>
<li>
<p>Click Apply</p>
</li>
</ol>
</div>
</li>
<li>
<p>Log on using the credentials created during the installation process</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-tcpip-properties"><a class="anchor" href="#trueconfigure-tcpip-properties"></a>Configure TCP/IP Properties</h3>
<div class="paragraph">
<p>This operating has two NICs to be configured. One will act as the external network card and the other will act as the internal network card. It is important to be using an account that has <code>sudo</code> privileges or be in the root account, as many of the configurations require executive privilege. Commands noted with <code>sudo</code> can be executed without it if using a root user.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure that Network Manager is running by running the command <code>systemctl status NetworkManager.service</code>.  This command, like most commands, is caps sensitive.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The output should be <code>Active: active (running)</code> in green.</p>
</li>
<li>
<p>If not, enter the command <code>sudo systemctl start NetworkManager.service</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Install nmtui, if not already installed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the command <code>sudo yum install NetworkManager-tui -y</code>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Enter the command <code>sudo nmtui</code> to enter the Network Manager</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the arrow keys to select "Edit Connection" for the internet-facing interface and then press "Enter"</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Use the arrow keys to ensure that "IPv4 CONFIGURATION" is set to "&lt;Automatic&gt;"</p>
</li>
<li>
<p>Use the arrow keys to ensure that "Automatically connect" has and "[x]" in the brackets next to it.</p>
</li>
<li>
<p>Use the arrow keys to select "&lt;Back&gt;" and press Enter to return to the main menu.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Use the arrow keys to select "Edit Connection" for the internal-facing interface and press "Enter" to select.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Use the arrow keys to select "Manual" in the menu next to "IPv4 Configuration".</p>
</li>
<li>
<p>Use the arrow keys to select "Show" next to the "IPv4 Configuration"</p>
</li>
<li>
<p>Under "Addresses" add in <code>192.168.240.1/24</code> or an IP in the address range that you have selected for use in this lab.</p>
</li>
<li>
<p>Use the arrow keys to ensure that "Automatically connect" has and "[x]" in the brackets next to it.</p>
</li>
<li>
<p>Use the arrow keys to select "&lt;Back&gt;" and press Enter to return to the main menu.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Use the arrow keys to select "Quit" and press Enter to exit the editor.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Set the hostname by running the command: <code>sudo hostnamectl set-hostname firewall.business.com</code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-routing-rules"><a class="anchor" href="#trueconfigure-routing-rules"></a>Configure Routing rules</h3>
<div class="paragraph">
<p>Enable IP forwarding:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable ipv4 forwarding with the command: <code>sudo sysctl -w net.ipv4.ip_forward=1</code></p>
</li>
<li>
<p>To make sure that this setting is enabled use the command <code>sudo sysctl net.ipv4.ip_forward</code>. The console should print out <code>net.ipt4.ip_forward = 1</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If you restart your OS, you may have to reenter this command.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Recent editions of fedora use firewalld to manage networking; however, we are going to install and use iptables instead because it is a more direct communication with the networking functionality.</p>
</li>
<li>
<p>Install and enable iptables-services:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>sudo yum install iptables-services</code></p>
</li>
<li>
<p><code>sudo systemctl mask firewalld.service</code></p>
</li>
<li>
<p><code>sudo systemctl enable iptables.service</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Flush the current rules and NAT tables to ensure only the rules we create are being applied.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>sudo iptables -F</code></p>
</li>
<li>
<p><code>sudo iptables -t nat -F</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Configure the routing rules where eth0 is the external interface and eth1 is the internal interface.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE</code></p>
</li>
<li>
<p><code>sudo iptables -A FORWARD -i eth0 -o eth1 -m state --state RELATED,ESTABLISHED -j ACCEPT</code></p>
</li>
<li>
<p><code>sudo iptables -A FORWARD -i eth1 -o eth0 -j ACCEPT</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Save the configuration using the command <code>sudo service iptables save</code>.</p>
</li>
<li>
<p>The configuration can be checked with the command <code>cat /etc/sysconfig/iptables</code>. The result will show only the commands entered in step six.</p>
<div class="imageblock text-center">
<div class="content">
<img src="natrules.jpg" alt="Network Address Translation rules">
</div>
</div>
</li>
<li>
<p>Stop firewalld and start iptables:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>sudo systemctl stop firewalld.service</code></p>
</li>
<li>
<p><code>sudo systemctl start iptables.service</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>This configuration can be tested by completing the client1 configuration in Step 2.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truestep-two-configure-client1"><a class="anchor" href="#truestep-two-configure-client1"></a><strong>Step Two</strong> - Configure CLIENT1</h3>
<div class="paragraph">
<p>This is typically the last step of a networking guide, but setting up all the services prior to having any means of testing can lead to a knot of configuration errors. By configuring the end user device initially, and adapting to the new network services continually, we can ensure that each service works as it goes up. Many of these settings will be changed in the future. A final configuration will be included in the appendix. Configuration steps for basic functionality include:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the operating system - Fedora Workstation 27</p>
</li>
<li>
<p>Configure the TCP/IP properties &amp; Test Configuration</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueinstall-operating-system"><a class="anchor" href="#trueinstall-operating-system"></a>Install Operating System</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the prompts to install the operating system for Fedora Workstation 27.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the appropriate language and then select “Continue”</p>
</li>
</ol>
</div>
</li>
<li>
<p>On the Installation Summary Page:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the options most appropriate to your keyboard and time/date selection.</p>
<div class="imageblock text-center">
<div class="content">
<img src="fedorainstallation.jpg" alt="Picture of fedora installation settings">
</div>
</div>
</li>
<li>
<p>Everything under “Software” can be left as defaults.</p>
</li>
<li>
<p>Under “System” select the “Installation Destination”.  We will leave everything as the defaults, but most confirm the options  by selecting “Done” in the top left corner.</p>
</li>
<li>
<p>Now the “Begin Installation” box in the bottom right should have turned blue. Click on this button.</p>
</li>
</ol>
</div>
</li>
<li>
<p>While the operating system is installing create a root password and a user account.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>This is done by selecting each option, filling out the required information and hitting the “Done” button in the top left corner.  Please remember these accounts as they are how the machine will be accessed.</p>
</li>
</ol>
</div>
</li>
<li>
<p>At the end of the installation process you will be prompted to reboot the machine. After it reboots you will be able to login with the credentials setup in step three.</p>
</li>
<li>
<p>On the first reboot you will be prompted to re-select some options. After going through this process the client will be ready to use.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-tcpip-properties-test-configuration"><a class="anchor" href="#trueconfigure-tcpip-properties-test-configuration"></a>Configure TCP/IP properties &amp; Test Configuration</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The network settings will be configured through the graphical user interface.</p>
</li>
<li>
<p>Select the drop down menu in the top right corner by clicking on the small arrow next to the power symbol.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select “Wired Connection” and click on “Wired Settings”</p>
</li>
<li>
<p>This will open a new dialogue box. Click on the small box with a gear under the “Wired” settings.</p>
</li>
<li>
<p>This opens a new dialogue box. Select “Ipv4” along the top bar.</p>
</li>
<li>
<p>Next to “IPv4” options select “Manual”</p>
</li>
<li>
<p>Fill out the “Addresses” box with the IP address you wish to assign to the client, the netmask of the network (255.255.255.0) and the Gateway (the address of the router).</p>
</li>
<li>
<p>Set DNS to “8.8.8.8”</p>
</li>
<li>
<p>Select “Apply” in the top right corner to apply the settings</p>
</li>
<li>
<p>Back on the Network Settings dialog box, click on the “On” button to turn the connection off. It should turn from blue to grey. Select once again to turn the settings back on. This ensures the settings are fully applied.</p>
</li>
</ol>
</div>
</li>
<li>
<p>If the network is configured properly and the router is functioning, the client will now be able to function.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open a terminal by selecting “Activities” in the top left corner and typing <code>cmd</code> in to the search box. When “terminal” appears select it. This will open a command prompt.</p>
</li>
<li>
<p>Enter the command <code>ping 8.8.8.8</code> at the command line to check network connectivity. This should generate continuous responses.  Use <code>ctrl + c</code> to exit.</p>
</li>
<li>
<p>Enter the command <code>ping www.google.com</code> to test hostname resolution. This	 should generate continuous positive responses, and use <code>ctrl + c</code> to exit.</p>
</li>
<li>
<p>When both commands resolve properly it will be safe to preserve the state of the router using VMware’s snapshot function or similar application.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The final configuration of client1 is listed in the appendix. However, it is recommended that users follow along with the guide, making changes as necessary. Jumping ahead to the final configuration may result in failure when testing service functionality in the next few sections.</p>
</div>
</div>
<div class="sect2">
<h3 id="truestep-three-configure-dc1"><a class="anchor" href="#truestep-three-configure-dc1"></a><strong>Step Three</strong> - Configure DC1</h3>
<div class="paragraph">
<p>The DC1 machine will act as a DNS server and a DHCP server. Configuring DC1 will be include:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Installing an operating system - Fedora Server 27.</p>
</li>
<li>
<p>Configure TCP/IP properties.</p>
</li>
<li>
<p>Install and Configure DNS.</p>
</li>
<li>
<p>Re-configure TCP/IP properties to account for new DNS server.</p>
</li>
<li>
<p>Install and Configure DHCP.</p>
</li>
<li>
<p>Configure DHCP and DNS settings on Client1.</p>
</li>
<li>
<p>Snapshot the Configuration.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueinstall-the-operating-system"><a class="anchor" href="#trueinstall-the-operating-system"></a>Install the Operating System</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the installation using the installer disk or the .iso file and follow the installation prompts.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>When using VMware to install the operating system, many of the option will be prefilled.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>VMware will prompt for a username and password - remember these credentials!</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Log on using the credentials created during the installation process</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-tcpip"><a class="anchor" href="#trueconfigure-tcpip"></a>Configure TCP/IP</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check that the Network Manager is running using the command <code>systemctl status NetworkManager.service</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If the Network Manager is running the result will be <code>Active: active (running)</code> in green.</p>
</li>
<li>
<p>If the Network Manager is not running, enter the command <code>systemctl start NetworkManager.service</code>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Install nmtui, if not already installed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the command <code>sudo yum install NetworkManager-tui -y</code>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>You may have to temporarily connect directly to the internet to do this.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Enter the command <code>sudo nmtui</code> to enter the Network Manager graphical user interface.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the arrows keys to select "Edit Connection" for the Internet-facing interface and then hit Enter.</p>
</li>
<li>
<p>Use the arrow keys to set "IPv4 CONFIGURATION" and set it to "Manual"</p>
</li>
<li>
<p>Set "Addresses" with an IP address in your configured subnet that does not conflict with any previously assigned. Add the subnet in slash notation on the end, or the configuration will fail.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Example: <code>192.168.240.5/24</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Set "DNS Server" to the address "8.8.8.8"</p>
</li>
<li>
<p>Set "Gateway" to the address of the router</p>
</li>
<li>
<p>Ensure that "Automatically connect" has an "[x]" in the brackets next to it.</p>
</li>
<li>
<p>Use the arrow keys to select "OK" and return to the main menu of the editor.</p>
</li>
<li>
<p>Use the arrow keys to select "Quit" and press Enter to exit the editor</p>
</li>
</ol>
</div>
</li>
<li>
<p>Edit the hostname using the command <code>sudo hostnamectl set-hostname dc1.business.com</code></p>
</li>
<li>
<p>Ensure that the connection works with the commands <code>ping 8.8.8.8</code> and <code>ping www.google.com</code>. Use <code>ctrl + c</code> to stop the command execution. Both should produce	 results if the network is properly configured.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>You may have to restart the network to do this.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>This can be done by entering the command <code>sudo systemctl restart Network</code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>These are temporary settings that will ensure internet connectivity while downloading the required packages for DNS and DHCP. The settings will be reconfigured after the appropriate services have been set up.</p>
</div>
</div>
<div class="sect2">
<h3 id="trueinstallconfigure-dns"><a class="anchor" href="#trueinstallconfigure-dns"></a>Install/Configure DNS</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Before we do anything, open the DNS port of 53/tcp</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter command <code>sudo firewall-cmd --open-port=53/tcp --permanent</code>.</p>
</li>
<li>
<p>Enter command <code>sudo firewall-cmd --reload</code>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Install bind by typing the command <code>sudo yum install bind bind-utils -y</code> and hitting enter.</p>
</li>
<li>
<p>Configure etc/named.conf (this is the configuration file for BIND)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Under <code>options {</code></p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Edit <code>{ listen-on port 53</code> to add in the IP address of the DNS server</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>It should look like <code>listen-on port 53 { 127.0.0.1; your-dc1-address; };</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Comment out <code>listen-on-v6 port 53 { ::1; };</code> by adding a <code>#</code> in front</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>It should look like this <code>#listen-on-v6 port 53 { ::1; };</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Edit <code>allow-query</code> to add in the subnet</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>It should look like <code>allow-query { localhost; 192.168.240.0/24; };</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Add in <code>forwarders</code> with IP addresses of <code>8.8.8.8</code> and <code>8.8.4.4</code></p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>It should look like <code>forwarders { 8.8.8.8; 8.8.4.4; };</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>At the end of the file add in <code>include “/etc/named/named.conf.local”;</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Save this file by using <code>ctrl + x</code> and entering <code>y</code> at the prompt.</p>
</li>
<li>
<p>Create the <code>named.conf.local</code> file and add:</p>
<div class="imageblock text-center">
<div class="content">
<img src="namedconflocal.jpg" alt="the base configuration for named BIND dns">
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Make sure the second one matches your subnet‘s addressing scheme</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create the two files referenced in named.conf.local</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter commands:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>sudo touch /var/named/db.business.com</code></p>
</li>
<li>
<p><code>sudo touch /var/named/db.240.168.192</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Make a copy of a default forwarder <code>named.</code> file to use as a template by running the command <code>sudo cp /var/named/named.empty &lt;file path here&gt;</code></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Next edit this file by running the command <code>sudo nano /etc/named/db.business.com</code>. This will bring you into the Nano editor where you will want to make changes to what is already there.</p>
</li>
<li>
<p>Change the <code>$TTL</code> value of <code>3h</code> to <code>604800</code> then replace <code>rname.invalid.</code> with <code>dc1.business.com. YourUser.business.com.</code> Remove the <code>@</code> symbol before this value.</p>
</li>
<li>
<p>Next change the values for serial to the days date with a serial number at the end (ie. 3/3/17 = 20170303+ serial #). The serial number can be any value. I used 02.</p>
</li>
<li>
<p>Now changes the values for refresh, retry, expire, and minimum to <code>604800</code>, <code>86400</code>, <code>2419200</code>, and <code>604800</code> respectively</p>
</li>
<li>
<p>Add in <code>@</code> followed by a tab then <code>IN</code> with another tab for the <code>NS, A, and AAAA</code> lines also change the <code>@</code> in the <code>NS</code> line to <code>dc1.business.com.</code></p>
</li>
<li>
<p>Add the A record addresses as shown below:</p>
<div class="listingblock">
<div class="content">
<pre>    firewall	IN	A	192.168.240.1

    dc1	        IN	A	192.168.240.5

    app1	    IN	A	192.168.240.10

    client1	    IN	A	192.168.240.15</pre>
</div>
</div>
</li>
<li>
<p>Add in CNAME Record addresses as shown below:</p>
<div class="listingblock">
<div class="content">
<pre>    server1 IN CNAME dc1.business.com.
    server2 IN CNAME app1.business.com.</pre>
</div>
</div>
</li>
<li>
<p>It should look like the file below:</p>
<div class="imageblock text-center">
<div class="content">
<img src="dc1bus.jpg" alt="dc1.business zone config">
</div>
</div>
</li>
<li>
<p>Press <code>ctrl + x</code> to exit the editor and then hit <code>y</code> to save the file</p>
</li>
</ol>
</div>
</li>
<li>
<p>Repeat the steps and create this file:</p>
<div class="imageblock text-center">
<div class="content">
<img src="dc1240.jpg" alt="dc1 reverse records config">
</div>
</div>
</li>
<li>
<p>Now it is time to start the DNS server</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the command <code>sudo systemctl enable named</code> to enable the DNS server.</p>
</li>
<li>
<p>Then enter the command <code>sudo systemctl start named</code> to start the DNS server</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truere-configure-tcpip"><a class="anchor" href="#truere-configure-tcpip"></a>Re-configure TCP/IP</h3>
<div class="paragraph">
<p>After DNS has been configured, the TCP/IP settings of DC1 can be reconfigured to point to itself as the DNS server rather than the router.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install nmtui, if not already installed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the command <code>sudo yum install NetworkManager-tui -y</code>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>You may have to temporarily connect directly to the internet to do this.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Enter the command <code>sudo nmtui</code> to enter the Network Manager interface.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the arrow keys to select "Edit Connection" for the interface and press the enter key</p>
</li>
<li>
<p>Use the arrow keys to select "IPv4 Configuration" and hit Enter</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Under "DNS servers" replace the router address with <code>127.0.0.1</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>USe the arrow keys to select "&lt;OK&gt;" and press Enter</p>
</li>
<li>
<p>Use the arrow keys to select "&lt;Back&gt;" and press Enter to return to the main menu of the editor</p>
</li>
<li>
<p>Use the arrow keys to select "quit" and press Enter to exit the editor.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Restart the network by running the command <code>sudo systemctl restart network</code>.</p>
</li>
<li>
<p>Ensure that the connection works with the commands <code>ping 8.8.8.8</code> and <code>ping www.google.com</code>. Both should produce results if the network is properly configured and	 can be exited with <code>ctrl + c</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueinstall-and-configure-dhcp"><a class="anchor" href="#trueinstall-and-configure-dhcp"></a>Install and Configure DHCP</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install DHCP using the command <code>sudo yum install dhcp -y</code></p>
</li>
<li>
<p>Enter the configuration file by entering the command <code>sudo nano /etc/dhcp/dhcpd.conf</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the following configuration lines:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Please note: ensure that you are using addresses that match your network configuration.</p>
</li>
<li>
<p>Please note II:  the hardware ethernet when making reservations for client1 is the MAC address of client1. This can be found by running the <code>ifconfig</code> command on client1</p>
<div class="listingblock">
<div class="content">
<pre># Create new domain
 option domain-name “business.com”;

# Specify DNS server IP
 option domain-name-servers 192.168.240.5;

# Specify default lease time
default-lease-time 600;

# Specify max lease time
max-lease-time 7200;

# Specify router
option routers 192.168.240.1;

# Specify broadcast address
option broadcast-address 192.168.240.255;

# Declare this as authoritative
authoritative;

# Specify network range
subnet 192.168.240.0 netmask 255.255.255.0 {
range 192.168.240.15 192.168.240.254;
}

# Make IP Address reservation for client1
host client1 {
option host-name “client1.business.com”;
hardware Ethernet 00:50:56:AF:9C:E3; (Your client1 mac address)
Fixed-address 192.168.240.15;
}</pre>
</div>
</div>
<div class="paragraph">
<p>An example is shown below:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="dhcpconf.jpg" alt="DHCP configuration">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Press <code>ctrl + x</code> to exit the Editor and then enter y to save the file.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Start the DHCP server using the following commands:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>sudo systemctl enable dhcpd</code> to enable the DHCP server</p>
</li>
<li>
<p><code>sudo systemctl start dhcpd</code> to start the DHCP server
At this point the DHCP server can be tested using the Client1 machine to ensure that everything functions properly.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-dhcp-and-dns-settings-on-client1"><a class="anchor" href="#trueconfigure-dhcp-and-dns-settings-on-client1"></a>Configure DHCP and DNS settings on Client1</h3>
<div class="paragraph">
<p>The network settings will be configured through the graphical user interface on the client machine set up in Step 2.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Select the drop down menu in the top right corner by clicking on the small arrow next to the power symbol.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select “Wired Connection” and click on “Wired Settings”</p>
</li>
<li>
<p>This will open a new dialogue box. Click on the small box with a gear under the “Wired” settings.</p>
</li>
<li>
<p>This opens a new dialogue box. Select “Ipv4” along the top bar.</p>
</li>
<li>
<p>Next to “IPv4” options select “DHCP” and enter the address of AD1</p>
</li>
<li>
<p>Set DNS to the address of AD1.</p>
</li>
<li>
<p>Select “Apply” in the top right corner to apply the settings</p>
</li>
<li>
<p>Back on the Network Settings dialog box, click on the “On” button to turn the connection off. It should turn from blue to grey. Select once again to turn the settings back on. This ensures the settings are fully applied.</p>
</li>
</ol>
</div>
</li>
<li>
<p>If the network is configured properly and the router is functioning, the client will now be able to function.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open a terminal by selecting “Activities” in the top left corner and typing <code>cmd</code> into the search box. When “terminal” appears select it. This will open a command prompt.</p>
</li>
<li>
<p>Enter the command <code>ping 8.8.8.8</code> at the command line to check network connectivity. This should generate continuous responses.  Use <code>ctrl + c</code> to exit.</p>
</li>
<li>
<p>Enter the command <code>ping www.google.com</code> to test hostname resolution. This	 should generate continuous positive responses, and use <code>ctrl + c</code> to exit.</p>
</li>
<li>
<p>When both commands resolve properly it will be safe to preserve the state of the router using VMware’s snapshot function or similar application.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truesnapshot-the-configuration"><a class="anchor" href="#truesnapshot-the-configuration"></a>Snapshot the Configuration</h3>
<div class="paragraph">
<p>Preserving a functional state of the machine is important in case changes are made accidently. This can be done using VMWare’s snapshot functionality or other software packages for hardware labs.</p>
</div>
</div>
<div class="sect2">
<h3 id="truestep-four-configure-app1"><a class="anchor" href="#truestep-four-configure-app1"></a><strong>Step Four</strong> - Configure APP1</h3>
<div class="paragraph">
<p>APP1 will provide a web server and a Samba Share. Configuration steps for APP1 include:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the operating system - Fedora Server 27.</p>
</li>
<li>
<p>Configure TCP/IP Properties</p>
</li>
<li>
<p>Configure the web server</p>
</li>
<li>
<p>Configure the Samba Share</p>
</li>
<li>
<p>Test Access from client1</p>
</li>
<li>
<p>Snapshot the Configuration</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueinstall-the-operating-system-2"><a class="anchor" href="#trueinstall-the-operating-system-2"></a>Install the Operating System</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the installation using the installer disk or the .iso file and follow the installation prompts.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>When using VMware to install the operating system, many of the option will be prefilled.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>VMware will prompt for a username and password - remember these credentials!</p>
</li>
</ol>
</div>
</li>
<li>
<p>Log on using the credentials created during the installation process</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-tcpip-properties-2"><a class="anchor" href="#trueconfigure-tcpip-properties-2"></a>Configure TCP/IP Properties</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check that the Network Manager is running using the command <code>systemctl status NetworkManager.service</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If the Network Manager is running the result will be <code>Active: active (running)</code> in green.</p>
</li>
<li>
<p>If the Network Manager is not running, enter the command <code>systemctl start NetworkManager.service</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Install nmtui, if not already installed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the command <code>sudo yum install NetworkManager-tui -y</code>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>You may have to temporarily connect directly to the internet to do this.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Enter the command <code>sudo nmtui</code> to enter the Network Manager graphical user interface.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use the arrows keys to select "Edit Connection" for the Internet-facing interface and then hit Enter.</p>
</li>
<li>
<p>Use the arrow keys to set "IPv4 CONFIGURATION" and set it to "Manual"</p>
</li>
<li>
<p>Set "Addresses" with an IP address in your configured subnet that does not conflict with any previously assigned. Add the subnet in slash notation on the end, or the configuration will fail.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Example: <code>192.168.240.10/24</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Set "DNS Server" to the address of the server AD1</p>
</li>
<li>
<p>Set "Gateway" to the address of the router</p>
</li>
<li>
<p>Ensure that "Automatically Connect" has an "[x]" in the brackets next to it.</p>
</li>
<li>
<p>Use the arrow keys to select "OK" and return to the main menu of the editor.
..Use the arrow keys to select "Quit" and press Enter to exit the editor</p>
</li>
</ol>
</div>
</li>
<li>
<p>Edit the hostname using the command <code>sudo hostnamectl set-hostname app1.bussiness.com</code></p>
</li>
<li>
<p>Ensure that the connection works with the commands <code>ping 8.8.8.8</code> and <code>ping www.google.com</code>. Both should produce results if the network is properly configured.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-the-web-server"><a class="anchor" href="#trueconfigure-the-web-server"></a>Configure the web server</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the command <code>sudo yum install httpd</code></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter <code>y</code> when prompted to confirm install</p>
</li>
</ol>
</div>
</li>
<li>
<p>Run the command <code>sudo systemctl enable httpd</code></p>
</li>
<li>
<p>Run the command <code>sudo systemctl start httpd</code></p>
</li>
<li>
<p>Ensure that HTTP traffic will be allowed by allowing it through the firewall</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the command <code>sudo firewall-cmd –permanent –add-service=http</code></p>
</li>
<li>
<p>Enter the command <code>sudo firewall-cmd –reload</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="trueconfigure-the-samba-share"><a class="anchor" href="#trueconfigure-the-samba-share"></a>Configure the samba share</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start by installing Samba by using the following command <code>sudo yum install samba samba-client samba-common</code></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter <code>y</code> when prompted to confirm install.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Create a backup of the default configuration by running the following command <code>sudo mv /etc/samba/smb.conf /etc/samba/smb.conf.bak</code></p>
</li>
<li>
<p>Create a new configuration file by entering the command <code>sudo nano /etc/samba/smb.conf</code></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Create an open (not secured share) by adding the following into the file, which will create definitions for a share that is accessible by all users on the LAN located at <code>/samba/allaccess</code>:</p>
<div class="listingblock">
<div class="content">
<pre>[global]
workgroup = WORKGROUP
server string = Samba Server %v
netbios name = app1
security = user
map to guest = bad user
dns proxy = no
hosts allow = 192.168.240.0/24
protocol = SMB3

[allaccess]
path = /samba/allaccess
browsable = yes
writable = yes
guest ok = yes
read only = no</pre>
</div>
</div>
</li>
<li>
<p>Press <code>ctrl + x</code> to exit the Editor and then hit <code>y</code> to save the file.</p>
</li>
<li>
<p>The file should look like the one shown below:</p>
<div class="imageblock text-center">
<div class="content">
<img src="sambaconf.jpg" alt="samba file share configuration">
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Now create the share directory by running the command <code>sudo mkdir -p /samba/allaccess</code></p>
</li>
<li>
<p>Add SMB permissions to a user in your system.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter command <code>sudo Smbpassword -a &lt;user&gt;</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>You will also need to allow Samba traffic through the firewall, use the following commands to do so:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>sudo firewall-cmd –permanent –add-service=samba</code></p>
</li>
<li>
<p><code>sudo firewall-cmd –reload</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Now you need to edit the permissions of the share so guest users can access it, start by moving to the <code>/samba</code> directory by using the <code>cd /samba</code> command</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Next run the command <code>sudo chmod -R 0755 allaccess/</code></p>
</li>
<li>
<p>Then run <code>sudo chown -R nobody:nobody allaccess/</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Now you need to configure SELinux to allow access to the Samba directory, use the following command to do so <code>sudo chcon -t samba_share_t allaccess/</code></p>
</li>
<li>
<p>Start and enable Samba services using the following commands:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>sudo systemctl enable smb</code></p>
</li>
<li>
<p><code>sudo systemctl enable nmb</code></p>
</li>
<li>
<p><code>sudo systemctl start smb</code></p>
</li>
<li>
<p><code>sudo systemctl start nmb</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This finishes the creation of the Samba share that is accessible to all users on the LAN.</p>
</div>
</div>
<div class="sect2">
<h3 id="truetest-web-server-access"><a class="anchor" href="#truetest-web-server-access"></a>Test web server access</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log on to the client machine and open the mozilla web browser.</p>
</li>
<li>
<p>Enter the IP address of the app1 machine to the address bar.</p>
</li>
<li>
<p>This should present the default Apache homepage as shown below.</p>
<div class="imageblock text-center">
<div class="content">
<img src="httptest.jpg" alt="example of http fedora test page">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truetest-samba-share-access"><a class="anchor" href="#truetest-samba-share-access"></a>Test samba share access</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install on client1 <code>sudo yum install samba-client samba-common cifs-utils</code> using the command line.</p>
</li>
<li>
<p>Have to let through the firewall: <code>sudo firewall-cmd --permanent --dd-service=samba</code> and <code>firewall-cmd --reload</code></p>
<div class="imageblock text-center">
<div class="content">
<img src="sambatest.jpg" alt="what the samba test results should look like">
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truesnapshot-the-configuration-2"><a class="anchor" href="#truesnapshot-the-configuration-2"></a>Snapshot the Configuration</h3>
<div class="paragraph">
<p>Preserving a functional state of the machine is important in case changes are made accidently. This can be done using VMWare’s snapshot functionality or other software packages for hardware labs.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="trueadditional-resources"><a class="anchor" href="#trueadditional-resources"></a>Additional Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="truehow-to-give-a-user-sudo-privileges"><a class="anchor" href="#truehow-to-give-a-user-sudo-privileges"></a>How to give a user sudo privileges</h3>
<div class="paragraph">
<p>Most of the steps taken in this base lab require using the command <code>sudo</code>, which can only be executed by a user with those privileges.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log on to a root account.</p>
</li>
<li>
<p>Execute the command <code>usermod username -a -G wheel</code> where <code>username</code> is the name of the user you’d like to elevate the privileges of.</p>
</li>
<li>
<p>Log out of the root account using the command <code>exit</code>.</p>
</li>
<li>
<p>Log in to the account that was granted sudo privileges.</p>
</li>
<li>
<p>Test access using the command <code>sudo -v</code></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>This will prompt a message and ask for the user’s password if the process worked. Otherwise it will display an error message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="truefinal-client-configuration"><a class="anchor" href="#truefinal-client-configuration"></a>Final Client Configuration</h3>
<div class="paragraph">
<p>Included in this section is information regarding the final network configuration of the client workstation. These settings can be accessed by logging in to the client workstation and selecting drop down menu in the top right corner and then selecting “Wired Settings” under the Wired Connected section. This will open a new dialogue box. To access settings select the box with the gear icon under the Wired section.</p>
</div>
<div class="paragraph">
<p>Below is an example of what the “Details” tab. The default route is the address of the router, and the DNS points to the address of DC1</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="wireddetails.jpg" alt="client1 wired config details page">
</div>
</div>
<div class="paragraph">
<p>The IPv4 tab settings are shown below. The address is assigned automatically by the DHCP server and the DNS settings show on the above screen are assigned here.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="wiredipv4.jpg" alt="client1 wired config ipv4 page">
</div>
</div>
<div class="paragraph">
<p>These settings will enable the client workstation to be fully functional in the context of this network environment.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecontributors"><a class="anchor" href="#truecontributors"></a>Contributors</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Evan Callaghan</p>
</li>
<li>
<p>Michael Pare</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-04-27 23:42:55 -0400
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>